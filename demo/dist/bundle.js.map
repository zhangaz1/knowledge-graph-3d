{"version":3,"sources":["webpack:///bundle.js","webpack:///./demo/src/index.js","webpack:///./src/index.js","webpack:///./mock/data.json"],"names":["webpackJsonp","73","module","exports","__webpack_require__","_index","obj","__esModule","default","74","_interopRequireWildcard","newObj","key","Object","prototype","hasOwnProperty","call","_classCallCheck","instance","Constructor","TypeError","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","protoProps","staticProps","_d3Force3d","d3","_three","THREE","_threeOrbitControls","_threeOrbitControls2","_data","KnowledgeGraph","_this","this","nodes","lines","drawLine","_ref","color","Line","LineBasicMaterial","Geometry","geometry","material","line","scene","add","push","drawSphere","_ref2","Mesh","MeshBasicMaterial","SphereGeometry","wireframe","sphere","handleTick","Vector3","forEach","node","idx","x","y","z","position","set","links","link","source","verticesNeedUpdate","vertices","renderer","render","camera","init","parseData","startDraw","_this2","_window","window","innerWidth","innerHeight","Scene","PerspectiveCamera","WebGLRenderer","canvas","document","getElementById","setSize","domElement","addEventListener","simulation","forceSimulation","numDimensions","force","forceLink","id","d","forceCenter","forceManyBody","on","_this3","75","group"],"mappings":"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","file":"bundle.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 73:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _index = __webpack_require__(74);\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nnew _index2.default();\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _d3Force3d = __webpack_require__(7);\n\nvar d3 = _interopRequireWildcard(_d3Force3d);\n\nvar _three = __webpack_require__(13);\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _threeOrbitControls = __webpack_require__(14);\n\nvar _threeOrbitControls2 = _interopRequireDefault(_threeOrbitControls);\n\nvar _data = __webpack_require__(75);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar KnowledgeGraph = function () {\n  function KnowledgeGraph() {\n    var _this = this;\n\n    _classCallCheck(this, KnowledgeGraph);\n\n    this.nodes = [];\n    this.lines = [];\n\n    this.drawLine = function (_ref) {\n      var color = _ref.color;\n      var Line = THREE.Line,\n          LineBasicMaterial = THREE.LineBasicMaterial,\n          Geometry = THREE.Geometry;\n\n\n      var geometry = new Geometry();\n      var material = new LineBasicMaterial({\n        color: color\n      });\n\n      var line = new Line(geometry, material);\n\n      _this.scene.add(line);\n      _this.lines.push(line);\n    };\n\n    this.drawSphere = function (_ref2) {\n      var color = _ref2.color;\n      var Mesh = THREE.Mesh,\n          MeshBasicMaterial = THREE.MeshBasicMaterial,\n          SphereGeometry = THREE.SphereGeometry;\n\n\n      var geometry = new SphereGeometry(2.5, 10, 10);\n      var material = new MeshBasicMaterial({\n        color: color,\n        wireframe: true\n      });\n\n      var sphere = new Mesh(geometry, material);\n\n      _this.scene.add(sphere);\n      _this.nodes.push(sphere);\n    };\n\n    this.handleTick = function () {\n      var Vector3 = THREE.Vector3;\n\n\n      _data.nodes.forEach(function (node, idx) {\n        var x = node.x,\n            y = node.y,\n            z = node.z;\n\n        var sphere = _this.nodes[idx];\n\n        sphere.position.set(x, y, z);\n      });\n\n      _data.links.forEach(function (link, idx) {\n        var source = link.source,\n            target = link.target;\n\n        var line = _this.lines[idx];\n\n        line.geometry.verticesNeedUpdate = true;\n        line.geometry.vertices[0] = new Vector3(source.x, source.y, source.z);\n        line.geometry.vertices[1] = new Vector3(target.x, target.y, target.z);\n      });\n\n      _this.renderer.render(_this.scene, _this.camera);\n    };\n\n    this.init();\n    this.parseData();\n    this.startDraw();\n  }\n\n  _createClass(KnowledgeGraph, [{\n    key: 'init',\n    value: function init() {\n      var _this2 = this;\n\n      var _window = window,\n          innerWidth = _window.innerWidth,\n          innerHeight = _window.innerHeight;\n      var Scene = THREE.Scene,\n          PerspectiveCamera = THREE.PerspectiveCamera,\n          WebGLRenderer = THREE.WebGLRenderer;\n\n\n      this.scene = new Scene();\n      this.camera = new PerspectiveCamera(75, innerWidth / innerHeight, 0.1, 1000);\n      this.renderer = new WebGLRenderer({\n        canvas: document.getElementById('root')\n      });\n\n      // 设置相机位置\n      this.camera.position.z = 200;\n\n      // 设置画布大小\n      this.renderer.setSize(innerWidth, innerHeight);\n\n      // 添加轨道控制\n      var controls = new ((0, _threeOrbitControls2.default)(THREE))(this.camera, this.renderer.domElement);\n\n      controls.addEventListener('change', function () {\n        _this2.renderer.render(_this2.scene, _this2.camera);\n      });\n    }\n  }, {\n    key: 'parseData',\n    value: function parseData() {\n      var simulation = d3.forceSimulation().numDimensions(3).force('link', d3.forceLink().id(function (d) {\n        return d.id;\n      })).force('center', d3.forceCenter()).force('charge', d3.forceManyBody());\n\n      simulation.nodes(_data.nodes);\n      simulation.force('link').links(_data.links);\n\n      simulation.on('tick', this.handleTick);\n    }\n  }, {\n    key: 'startDraw',\n    value: function startDraw() {\n      var _this3 = this;\n\n      _data.nodes.forEach(function () {\n        _this3.drawSphere({\n          color: 0xffffff\n        });\n      });\n\n      _data.links.forEach(function () {\n        _this3.drawLine({\n          color: 0xffffff\n        });\n      });\n    }\n  }]);\n\n  return KnowledgeGraph;\n}();\n\nexports.default = KnowledgeGraph;\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, exports) {\n\nmodule.exports = {\"nodes\":[{\"id\":\"红酒\",\"group\":1},{\"id\":\"产地\",\"group\":2},{\"id\":\"分类\",\"group\":3},{\"id\":\"甜度\",\"group\":4},{\"id\":\"特性\",\"group\":5},{\"id\":\"容量\",\"group\":6},{\"id\":\"葡萄品种\",\"group\":7},{\"id\":\"类型\",\"group\":8},{\"id\":\"酸度\",\"group\":9},{\"id\":\"法国\",\"group\":2},{\"id\":\"澳大利亚\",\"group\":2},{\"id\":\"美国\",\"group\":2},{\"id\":\"葡萄牙\",\"group\":2},{\"id\":\"西班牙\",\"group\":2},{\"id\":\"阿根廷\",\"group\":2},{\"id\":\"中国\",\"group\":2},{\"id\":\"加拿大\",\"group\":2},{\"id\":\"南非\",\"group\":2},{\"id\":\"德国\",\"group\":2},{\"id\":\"意大利\",\"group\":2},{\"id\":\"新西兰\",\"group\":2},{\"id\":\"智利\",\"group\":2},{\"id\":\"红葡萄酒\",\"group\":3},{\"id\":\"白葡萄酒\",\"group\":3},{\"id\":\"桃红葡萄酒\",\"group\":3},{\"id\":\"果酒\",\"group\":3},{\"id\":\"香槟\",\"group\":3},{\"id\":\"起泡酒\",\"group\":3},{\"id\":\"冰酒/贵腐/甜酒\",\"group\":3},{\"id\":\"半干型\",\"group\":4},{\"id\":\"半甜型\",\"group\":4},{\"id\":\"干型\",\"group\":4},{\"id\":\"极干型\",\"group\":4},{\"id\":\"甜型\",\"group\":4},{\"id\":\"酒杯/酒具\",\"group\":5},{\"id\":\"礼盒馈赠\",\"group\":5},{\"id\":\"海外直采\",\"group\":5},{\"id\":\"列级庄\",\"group\":5},{\"id\":\"中级庄\",\"group\":5},{\"id\":\"100-375ml\",\"group\":6},{\"id\":\"376ml-750ml\",\"group\":6},{\"id\":\"750ml以上\",\"group\":6},{\"id\":\"黑皮诺（Pinot Noir）\",\"group\":7},{\"id\":\"麝香(Muscat)\",\"group\":7},{\"id\":\"马尔贝克（Malbec）\",\"group\":7},{\"id\":\"霞多丽（Chardonnay）\",\"group\":7},{\"id\":\"雷司令（Riesling）\",\"group\":7},{\"id\":\"长相思（Sauvignon Blanc）\",\"group\":7},{\"id\":\"赤霞珠（Cabernet Sauvignon）\",\"group\":7},{\"id\":\"赛美蓉(Semillon)\",\"group\":7},{\"id\":\"西拉/设拉子（Syrah/Shiraz）\",\"group\":7},{\"id\":\"蛇龙珠（Cabernet Gernischet）\",\"group\":7},{\"id\":\"莫斯卡托(Moscato)\",\"group\":7},{\"id\":\"皮诺塔吉（Pinotage）\",\"group\":7},{\"id\":\"白诗南(Chenin Blanc)\",\"group\":7},{\"id\":\"灰皮诺(Pinot Gris)\",\"group\":7},{\"id\":\"混合(Blending)\",\"group\":7},{\"id\":\"歌海娜（Grenache）\",\"group\":7},{\"id\":\"梅洛（Merlot）\",\"group\":7},{\"id\":\"桑娇维塞（Sangiovese）\",\"group\":7},{\"id\":\"天帕尼罗(Tempranillo)\",\"group\":7},{\"id\":\"品丽珠（Cabernet Franc）\",\"group\":7},{\"id\":\"内比奥罗（Nebbiolo）\",\"group\":7},{\"id\":\"佳美（Gamay）\",\"group\":7},{\"id\":\"佳美娜（Carmenere）\",\"group\":7},{\"id\":\"仙粉黛（Zinfandel）\",\"group\":7},{\"id\":\"低泡酒\",\"group\":8},{\"id\":\"无醇酒\",\"group\":8},{\"id\":\"静止酒\",\"group\":8},{\"id\":\"高泡酒\",\"group\":8},{\"id\":\"中酸\",\"group\":9},{\"id\":\"低酸\",\"group\":9},{\"id\":\"高酸\",\"group\":9}],\"links\":[{\"source\":\"红酒\",\"target\":\"产地\"},{\"source\":\"红酒\",\"target\":\"分类\"},{\"source\":\"红酒\",\"target\":\"甜度\"},{\"source\":\"红酒\",\"target\":\"特性\"},{\"source\":\"红酒\",\"target\":\"容量\"},{\"source\":\"红酒\",\"target\":\"葡萄品种\"},{\"source\":\"红酒\",\"target\":\"类型\"},{\"source\":\"红酒\",\"target\":\"酸度\"},{\"source\":\"产地\",\"target\":\"法国\"},{\"source\":\"产地\",\"target\":\"澳大利亚\"},{\"source\":\"产地\",\"target\":\"美国\"},{\"source\":\"产地\",\"target\":\"葡萄牙\"},{\"source\":\"产地\",\"target\":\"西班牙\"},{\"source\":\"产地\",\"target\":\"阿根廷\"},{\"source\":\"产地\",\"target\":\"中国\"},{\"source\":\"产地\",\"target\":\"加拿大\"},{\"source\":\"产地\",\"target\":\"南非\"},{\"source\":\"产地\",\"target\":\"德国\"},{\"source\":\"产地\",\"target\":\"意大利\"},{\"source\":\"产地\",\"target\":\"新西兰\"},{\"source\":\"产地\",\"target\":\"智利\"},{\"source\":\"分类\",\"target\":\"红葡萄酒\"},{\"source\":\"分类\",\"target\":\"白葡萄酒\"},{\"source\":\"分类\",\"target\":\"桃红葡萄酒\"},{\"source\":\"分类\",\"target\":\"果酒\"},{\"source\":\"分类\",\"target\":\"香槟\"},{\"source\":\"分类\",\"target\":\"起泡酒\"},{\"source\":\"分类\",\"target\":\"冰酒/贵腐/甜酒\"},{\"source\":\"甜度\",\"target\":\"半干型\"},{\"source\":\"甜度\",\"target\":\"半甜型\"},{\"source\":\"甜度\",\"target\":\"干型\"},{\"source\":\"甜度\",\"target\":\"极干型\"},{\"source\":\"甜度\",\"target\":\"甜型\"},{\"source\":\"特性\",\"target\":\"酒杯/酒具\"},{\"source\":\"特性\",\"target\":\"礼盒馈赠\"},{\"source\":\"特性\",\"target\":\"海外直采\"},{\"source\":\"特性\",\"target\":\"列级庄\"},{\"source\":\"特性\",\"target\":\"中级庄\"},{\"source\":\"容量\",\"target\":\"100-375ml\"},{\"source\":\"容量\",\"target\":\"376ml-750ml\"},{\"source\":\"容量\",\"target\":\"750ml以上\"},{\"source\":\"葡萄品种\",\"target\":\"黑皮诺（Pinot Noir）\"},{\"source\":\"葡萄品种\",\"target\":\"麝香(Muscat)\"},{\"source\":\"葡萄品种\",\"target\":\"马尔贝克（Malbec）\"},{\"source\":\"葡萄品种\",\"target\":\"霞多丽（Chardonnay）\"},{\"source\":\"葡萄品种\",\"target\":\"雷司令（Riesling）\"},{\"source\":\"葡萄品种\",\"target\":\"长相思（Sauvignon Blanc）\"},{\"source\":\"葡萄品种\",\"target\":\"赤霞珠（Cabernet Sauvignon）\"},{\"source\":\"葡萄品种\",\"target\":\"赛美蓉(Semillon)\"},{\"source\":\"葡萄品种\",\"target\":\"西拉/设拉子（Syrah/Shiraz）\"},{\"source\":\"葡萄品种\",\"target\":\"蛇龙珠（Cabernet Gernischet）\"},{\"source\":\"葡萄品种\",\"target\":\"莫斯卡托(Moscato)\"},{\"source\":\"葡萄品种\",\"target\":\"皮诺塔吉（Pinotage）\"},{\"source\":\"葡萄品种\",\"target\":\"白诗南(Chenin Blanc)\"},{\"source\":\"葡萄品种\",\"target\":\"灰皮诺(Pinot Gris)\"},{\"source\":\"葡萄品种\",\"target\":\"混合(Blending)\"},{\"source\":\"葡萄品种\",\"target\":\"歌海娜（Grenache）\"},{\"source\":\"葡萄品种\",\"target\":\"梅洛（Merlot）\"},{\"source\":\"葡萄品种\",\"target\":\"桑娇维塞（Sangiovese）\"},{\"source\":\"葡萄品种\",\"target\":\"天帕尼罗(Tempranillo)\"},{\"source\":\"葡萄品种\",\"target\":\"品丽珠（Cabernet Franc）\"},{\"source\":\"葡萄品种\",\"target\":\"内比奥罗（Nebbiolo）\"},{\"source\":\"葡萄品种\",\"target\":\"佳美（Gamay）\"},{\"source\":\"葡萄品种\",\"target\":\"佳美娜（Carmenere）\"},{\"source\":\"葡萄品种\",\"target\":\"仙粉黛（Zinfandel）\"},{\"source\":\"类型\",\"target\":\"低泡酒\"},{\"source\":\"类型\",\"target\":\"无醇酒\"},{\"source\":\"类型\",\"target\":\"静止酒\"},{\"source\":\"类型\",\"target\":\"高泡酒\"},{\"source\":\"酸度\",\"target\":\"中酸\"},{\"source\":\"酸度\",\"target\":\"低酸\"},{\"source\":\"酸度\",\"target\":\"高酸\"}]}\n\n/***/ })\n\n},[73]);\n\n\n// WEBPACK FOOTER //\n// bundle.js","import KnowledgeGraph from '../../src/index';\n\nnew KnowledgeGraph();\n\n\n\n// WEBPACK FOOTER //\n// ./demo/src/index.js","import * as d3 from 'd3-force-3d';\nimport * as THREE from 'three';\nimport OrbitControls from 'three-orbit-controls';\n\nimport { nodes, links } from '../mock/data.json';\n\nclass KnowledgeGraph {\n  nodes = [];\n  lines = [];\n\n  constructor() {\n    this.init();\n    this.parseData();\n    this.startDraw();\n  }\n\n  init() {\n    const { innerWidth, innerHeight } = window;\n    const { Scene, PerspectiveCamera, WebGLRenderer } = THREE;\n\n    this.scene = new Scene();\n    this.camera = new PerspectiveCamera(75, innerWidth / innerHeight, 0.1, 1000);\n    this.renderer = new WebGLRenderer({\n      canvas: document.getElementById('root'),\n    });\n\n    // 设置相机位置\n    this.camera.position.z = 200;\n\n    // 设置画布大小\n    this.renderer.setSize(innerWidth, innerHeight);\n\n    // 添加轨道控制\n    const controls = new (OrbitControls(THREE))(this.camera, this.renderer.domElement);\n\n    controls.addEventListener('change', () => {\n      this.renderer.render(this.scene, this.camera);\n    });\n  }\n\n  drawLine = ({ color }) => {\n    const { Line, LineBasicMaterial, Geometry } = THREE;\n\n    const geometry = new Geometry();\n    const material = new LineBasicMaterial({\n      color,\n    });\n\n    const line = new Line(geometry, material);\n\n    this.scene.add(line);\n    this.lines.push(line);\n  }\n\n  drawSphere = ({ color }) => {\n    const { Mesh, MeshBasicMaterial, SphereGeometry } = THREE;\n\n    const geometry = new SphereGeometry(2.5, 10, 10);\n    const material = new MeshBasicMaterial({\n      color,\n      wireframe: true,\n    });\n\n    const sphere = new Mesh(geometry, material);\n\n    this.scene.add(sphere);\n    this.nodes.push(sphere);\n  }\n\n  handleTick = () => {\n    const { Vector3 } = THREE;\n\n    nodes.forEach((node, idx) => {\n      const { x, y, z } = node;\n      const sphere = this.nodes[idx];\n\n      sphere.position.set(x, y, z);\n    });\n\n    links.forEach((link, idx) => {\n      const { source, target } = link;\n      const line = this.lines[idx];\n\n      line.geometry.verticesNeedUpdate = true;\n      line.geometry.vertices[0] = new Vector3(source.x, source.y, source.z);\n      line.geometry.vertices[1] = new Vector3(target.x, target.y, target.z);\n    });\n\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  parseData() {\n    const simulation = d3.forceSimulation()\n      .numDimensions(3)\n      .force('link', d3.forceLink().id(d => d.id))\n      .force('center', d3.forceCenter())\n      .force('charge', d3.forceManyBody());\n\n    simulation.nodes(nodes);\n    simulation.force('link').links(links);\n\n    simulation.on('tick', this.handleTick);\n  }\n\n  startDraw() {\n    nodes.forEach(() => {\n      this.drawSphere({\n        color: 0xffffff,\n      });\n    });\n\n    links.forEach(() => {\n      this.drawLine({\n        color: 0xffffff,\n      });\n    });\n  }\n}\n\nexport default KnowledgeGraph;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = {\"nodes\":[{\"id\":\"红酒\",\"group\":1},{\"id\":\"产地\",\"group\":2},{\"id\":\"分类\",\"group\":3},{\"id\":\"甜度\",\"group\":4},{\"id\":\"特性\",\"group\":5},{\"id\":\"容量\",\"group\":6},{\"id\":\"葡萄品种\",\"group\":7},{\"id\":\"类型\",\"group\":8},{\"id\":\"酸度\",\"group\":9},{\"id\":\"法国\",\"group\":2},{\"id\":\"澳大利亚\",\"group\":2},{\"id\":\"美国\",\"group\":2},{\"id\":\"葡萄牙\",\"group\":2},{\"id\":\"西班牙\",\"group\":2},{\"id\":\"阿根廷\",\"group\":2},{\"id\":\"中国\",\"group\":2},{\"id\":\"加拿大\",\"group\":2},{\"id\":\"南非\",\"group\":2},{\"id\":\"德国\",\"group\":2},{\"id\":\"意大利\",\"group\":2},{\"id\":\"新西兰\",\"group\":2},{\"id\":\"智利\",\"group\":2},{\"id\":\"红葡萄酒\",\"group\":3},{\"id\":\"白葡萄酒\",\"group\":3},{\"id\":\"桃红葡萄酒\",\"group\":3},{\"id\":\"果酒\",\"group\":3},{\"id\":\"香槟\",\"group\":3},{\"id\":\"起泡酒\",\"group\":3},{\"id\":\"冰酒/贵腐/甜酒\",\"group\":3},{\"id\":\"半干型\",\"group\":4},{\"id\":\"半甜型\",\"group\":4},{\"id\":\"干型\",\"group\":4},{\"id\":\"极干型\",\"group\":4},{\"id\":\"甜型\",\"group\":4},{\"id\":\"酒杯/酒具\",\"group\":5},{\"id\":\"礼盒馈赠\",\"group\":5},{\"id\":\"海外直采\",\"group\":5},{\"id\":\"列级庄\",\"group\":5},{\"id\":\"中级庄\",\"group\":5},{\"id\":\"100-375ml\",\"group\":6},{\"id\":\"376ml-750ml\",\"group\":6},{\"id\":\"750ml以上\",\"group\":6},{\"id\":\"黑皮诺（Pinot Noir）\",\"group\":7},{\"id\":\"麝香(Muscat)\",\"group\":7},{\"id\":\"马尔贝克（Malbec）\",\"group\":7},{\"id\":\"霞多丽（Chardonnay）\",\"group\":7},{\"id\":\"雷司令（Riesling）\",\"group\":7},{\"id\":\"长相思（Sauvignon Blanc）\",\"group\":7},{\"id\":\"赤霞珠（Cabernet Sauvignon）\",\"group\":7},{\"id\":\"赛美蓉(Semillon)\",\"group\":7},{\"id\":\"西拉/设拉子（Syrah/Shiraz）\",\"group\":7},{\"id\":\"蛇龙珠（Cabernet Gernischet）\",\"group\":7},{\"id\":\"莫斯卡托(Moscato)\",\"group\":7},{\"id\":\"皮诺塔吉（Pinotage）\",\"group\":7},{\"id\":\"白诗南(Chenin Blanc)\",\"group\":7},{\"id\":\"灰皮诺(Pinot Gris)\",\"group\":7},{\"id\":\"混合(Blending)\",\"group\":7},{\"id\":\"歌海娜（Grenache）\",\"group\":7},{\"id\":\"梅洛（Merlot）\",\"group\":7},{\"id\":\"桑娇维塞（Sangiovese）\",\"group\":7},{\"id\":\"天帕尼罗(Tempranillo)\",\"group\":7},{\"id\":\"品丽珠（Cabernet Franc）\",\"group\":7},{\"id\":\"内比奥罗（Nebbiolo）\",\"group\":7},{\"id\":\"佳美（Gamay）\",\"group\":7},{\"id\":\"佳美娜（Carmenere）\",\"group\":7},{\"id\":\"仙粉黛（Zinfandel）\",\"group\":7},{\"id\":\"低泡酒\",\"group\":8},{\"id\":\"无醇酒\",\"group\":8},{\"id\":\"静止酒\",\"group\":8},{\"id\":\"高泡酒\",\"group\":8},{\"id\":\"中酸\",\"group\":9},{\"id\":\"低酸\",\"group\":9},{\"id\":\"高酸\",\"group\":9}],\"links\":[{\"source\":\"红酒\",\"target\":\"产地\"},{\"source\":\"红酒\",\"target\":\"分类\"},{\"source\":\"红酒\",\"target\":\"甜度\"},{\"source\":\"红酒\",\"target\":\"特性\"},{\"source\":\"红酒\",\"target\":\"容量\"},{\"source\":\"红酒\",\"target\":\"葡萄品种\"},{\"source\":\"红酒\",\"target\":\"类型\"},{\"source\":\"红酒\",\"target\":\"酸度\"},{\"source\":\"产地\",\"target\":\"法国\"},{\"source\":\"产地\",\"target\":\"澳大利亚\"},{\"source\":\"产地\",\"target\":\"美国\"},{\"source\":\"产地\",\"target\":\"葡萄牙\"},{\"source\":\"产地\",\"target\":\"西班牙\"},{\"source\":\"产地\",\"target\":\"阿根廷\"},{\"source\":\"产地\",\"target\":\"中国\"},{\"source\":\"产地\",\"target\":\"加拿大\"},{\"source\":\"产地\",\"target\":\"南非\"},{\"source\":\"产地\",\"target\":\"德国\"},{\"source\":\"产地\",\"target\":\"意大利\"},{\"source\":\"产地\",\"target\":\"新西兰\"},{\"source\":\"产地\",\"target\":\"智利\"},{\"source\":\"分类\",\"target\":\"红葡萄酒\"},{\"source\":\"分类\",\"target\":\"白葡萄酒\"},{\"source\":\"分类\",\"target\":\"桃红葡萄酒\"},{\"source\":\"分类\",\"target\":\"果酒\"},{\"source\":\"分类\",\"target\":\"香槟\"},{\"source\":\"分类\",\"target\":\"起泡酒\"},{\"source\":\"分类\",\"target\":\"冰酒/贵腐/甜酒\"},{\"source\":\"甜度\",\"target\":\"半干型\"},{\"source\":\"甜度\",\"target\":\"半甜型\"},{\"source\":\"甜度\",\"target\":\"干型\"},{\"source\":\"甜度\",\"target\":\"极干型\"},{\"source\":\"甜度\",\"target\":\"甜型\"},{\"source\":\"特性\",\"target\":\"酒杯/酒具\"},{\"source\":\"特性\",\"target\":\"礼盒馈赠\"},{\"source\":\"特性\",\"target\":\"海外直采\"},{\"source\":\"特性\",\"target\":\"列级庄\"},{\"source\":\"特性\",\"target\":\"中级庄\"},{\"source\":\"容量\",\"target\":\"100-375ml\"},{\"source\":\"容量\",\"target\":\"376ml-750ml\"},{\"source\":\"容量\",\"target\":\"750ml以上\"},{\"source\":\"葡萄品种\",\"target\":\"黑皮诺（Pinot Noir）\"},{\"source\":\"葡萄品种\",\"target\":\"麝香(Muscat)\"},{\"source\":\"葡萄品种\",\"target\":\"马尔贝克（Malbec）\"},{\"source\":\"葡萄品种\",\"target\":\"霞多丽（Chardonnay）\"},{\"source\":\"葡萄品种\",\"target\":\"雷司令（Riesling）\"},{\"source\":\"葡萄品种\",\"target\":\"长相思（Sauvignon Blanc）\"},{\"source\":\"葡萄品种\",\"target\":\"赤霞珠（Cabernet Sauvignon）\"},{\"source\":\"葡萄品种\",\"target\":\"赛美蓉(Semillon)\"},{\"source\":\"葡萄品种\",\"target\":\"西拉/设拉子（Syrah/Shiraz）\"},{\"source\":\"葡萄品种\",\"target\":\"蛇龙珠（Cabernet Gernischet）\"},{\"source\":\"葡萄品种\",\"target\":\"莫斯卡托(Moscato)\"},{\"source\":\"葡萄品种\",\"target\":\"皮诺塔吉（Pinotage）\"},{\"source\":\"葡萄品种\",\"target\":\"白诗南(Chenin Blanc)\"},{\"source\":\"葡萄品种\",\"target\":\"灰皮诺(Pinot Gris)\"},{\"source\":\"葡萄品种\",\"target\":\"混合(Blending)\"},{\"source\":\"葡萄品种\",\"target\":\"歌海娜（Grenache）\"},{\"source\":\"葡萄品种\",\"target\":\"梅洛（Merlot）\"},{\"source\":\"葡萄品种\",\"target\":\"桑娇维塞（Sangiovese）\"},{\"source\":\"葡萄品种\",\"target\":\"天帕尼罗(Tempranillo)\"},{\"source\":\"葡萄品种\",\"target\":\"品丽珠（Cabernet Franc）\"},{\"source\":\"葡萄品种\",\"target\":\"内比奥罗（Nebbiolo）\"},{\"source\":\"葡萄品种\",\"target\":\"佳美（Gamay）\"},{\"source\":\"葡萄品种\",\"target\":\"佳美娜（Carmenere）\"},{\"source\":\"葡萄品种\",\"target\":\"仙粉黛（Zinfandel）\"},{\"source\":\"类型\",\"target\":\"低泡酒\"},{\"source\":\"类型\",\"target\":\"无醇酒\"},{\"source\":\"类型\",\"target\":\"静止酒\"},{\"source\":\"类型\",\"target\":\"高泡酒\"},{\"source\":\"酸度\",\"target\":\"中酸\"},{\"source\":\"酸度\",\"target\":\"低酸\"},{\"source\":\"酸度\",\"target\":\"高酸\"}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mock/data.json\n// module id = 75\n// module chunks = 0"],"sourceRoot":""}